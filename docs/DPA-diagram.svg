<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="2826px" height="884px" version="1.1" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:57.0) Gecko/20100101 Firefox/57.0&quot; version=&quot;7.4.4&quot; editor=&quot;www.draw.io&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;b94d60f7-ee83-023c-d366-15100422dbe3&quot; name=&quot;Page-1&quot;&gt;7V1bc9s2Fv4t+6CJ0xlreBFF6dGy4zazduqJ3e3uIyxCEtcUoSWhyO6vX1x5AyBRNilqGnbShARBEDiXDwfnHEAD93r9+msCNqt7FMBo4FjB68C9GTiO61sT8g8teeMljjNyeMkyCQNeZucFj+FfUBRaonQbBjAtVcQIRTjclAvnKI7hHJfKQJKgXbnaAkXlr27AEioFj3MQqaV/hgFe8dKJZ+Xlv8FwuZJfti3xZA1kZVGQrkCAdoUi98vAvU4Qwvxq/XoNI0o9SRf+3q3hadaxBMa4zgv+aDweWePRFEzHrgvg5WjEm/gBoq0YregpfpPDXyZouxHVYILhq47o4FlWt9RO2dlQiZBAtIY4eSNVREOXzlS88yYLfNH4rkBuy+NlqwKpJ754EwgWL7PWcyqQC0GIukTxDhOF0CQOIG3BGriz3SrE8HED5vTpjqgBKVvhNfnijU0uQRQuY3IdwQXp+MxIyyLNDKxSqdgRjcYaGo0jOrwVGc14Sa+eVmFKG6F/4RVkFASLxaeUXSXbOd4mUL72nMjXZAnpVN6WLNxUC7TvFWpVGEdojsvcIT1BL/AaRSghJTGKSc3ZIoyiSlFK+BvGS1Lg5XdPiPD65tIxSQEibF5ETOdXYRDA+ITiMJIAWhQH22lCHJ49/xl49tzz5/6C9maqiMM3hKFC/XQXriPAKYxi/CieFJVkTsYMCdlnlCIhQeEr8QBTUs/mqzAK7sAb2tIBEXmav8i72Qol4V+kWZCzFiRYTCjOuFTjkb4p1DeBKanzIMltV4ruwWup4h1IsSiYoygCmzR8zoaxBskyjGcIY7QWleSgbwsyNXDcBfuvcQEQTVQw1ZUoUJAPZ6STj/GoBfmQc2UJLmbUKNgmAIeI8PeK3H399kQUl9DmFTC60BqbEM9X5sdh+h1SdtDns99/v/ty9U2pkxIBAgxrWLUv3/64l1gRb2nHr/ncnGz45SICuAAq1Q/eEOZS6Dd9Uo84dWGmgg56LRDoc8fq3Izyku+CkyMD9iQIAzlZU9ncoDDGjNPejPwhbLq2ht7Au6GU8GZ2fk/+0OoJvkYxGQsImWRCogs7xoCaYqxHDlWMpbE4rim2Vitiax+2BKKQzw6MvdI+tN/F2zXhUlSYasTkYisMd1WGuxrmRuAZRg8oDbmG3SS8boXpnfDVdmvi0aQNtjoGNCJNr1Bwgd828DPXb3rZa3SznJ/U47xU/UbtVlWhH6lJ2hsqnRkqtl+2VHxXEQ97rBGPcRvLGhMwzECSigkfJAI1e1Q4RgoMPgDzNK9leiuY4PaTfCtMldPsIaY2McVXe6auR6ni9ih/Lihva1x8p4N527QcXROVIOtEgfX3/K7H+3fIw9HLutPhvd2v6trhapeAb+tmce7jCcIf0ptDtVoY/NwtPUfrDUphQC7RQhp6hmf3EhwMz6nHMy04oQvfNYFHwQ3NwNyowZSdYItRymcPTVRhL6AImRu1Be9uGd091YYfaZd4rdjwY4XaMFhCObkTnVihJYpB9CUvnZXjOQW2wNcQ/5sWD31P3P5H1CLUSt6Kz+i9fPhfiPGbmOsp4yhuZ1++Q4wfdsYO2sFjmUFGiLbJXLxndMkTm2MJj12rJzACOPxR7lOzEQM18ngldEjqFwzxiphe5MPk/5g9oN5ZJIuIxuBhDc06doY2mnwZkusiPe3olVdWrJFbE2Jb0ayJLlpsisJRg7rEmfH/tkg+uOQ4RjnuuJvX/CGDVWmT5oXu7a1l0bB6XsS/9hukHyEt7iD13lvEGCIDWG8iuCZEJzIMWX9paUAv8xa4pBW++xKBNM3RnVVHmyAB8xXOGtlB+EL+sYd7w4987I1HIM9QQO0K8o8t1a7Xe/daEVA1ci9t+H7p19XSrxKJdMaqcaD3/Ldh+090eQszOfG42RTUL/mOlwOufR8O5bWy5pv4Gr73a74G2KpZ9LUWyFO6NjFoMw7X8LEc9X/64+Hui5yjKWmYMRkenqh7bX+PWEijtBttV92/T0QiBoVUEGriAWoXWCwBhd4+Q0IRZkDiHeKyAZcwSX+yNYZb2znXSmJhDedc6xmptj0q06TzlFSdw7pClQ5SUg1k7IZGrm4yMKSkLmEMid5DnokKFot073quT0P9gAicMA3V0WVuZwzT+CKoyXcp+0WtBLqc9VQ3w7FOjXHZp8Eb2SThD4BFGjQBfXJxF8YvMLgLU2qFgDVlFfvOXRi9bVAcPBGRiLNHoivWrxCzB+ltgtay6gURICoXDAAx4dhnjWj6ennlzcfP6abWPaEv9cFh1gfqVKGUsGK4e9+ILj7v1aMP9XSBEgjmK3KV04e5eOKcUMPHTRTii0+k5NNnHdWO/2xDhP7ovVWhOmeZwrFCnYtGxv/hfp8J/T48jn8xIJL01k8yp6ftTWv69uHOpTuW7k3VtZfEJscxB2nZ/z3wyDrxOgv05OU875WCwZBBwj/DOMhEuAQW9MmQh1PZN54J1r6ciSS1RbA5MZfeT6xr+vZPQyvM1tzvpRVbsf88tILrDfoAsdjrPwO1/Ov3U4nmAP79aBTABdhG+Fhi/BG/xGgXnx9BmIVynuYJp27VqjN0rvvuhjQt6UIvEgekgukcb4//rdyK5cN3uISvF4NRCdFm4HLJfM+k3vUnGKbk5hfqpr6cMhc1rTJkZdlLn4df03tAjD9i+fWmX/NCWwcSeBD0LEZtBIFT9wNGbAbqSJWS4S8D9zbXnF5tzlBtvss4WvejPuO5s6BB6ZBlrjjWP4QjahtFvfA2LryczNxcGX6Dr1i6ATnVuTPwPKSjIW19SOCPEG1TzUCLxDiTQZ+xsgqSXQUBpRrXWqOb/myGbSUQb5PM0W2wzPOvK6maNSJ36QpsIAvHYVOYvhjVE/n6o4EpI6QShisH9MZZD5oKzOkT9keup4S3XUubrtFG3M4cuS3soXhiJwjR2fc7BAFLDCeL1iCL5kRiXqbcp9FVlt8D2P0cxZR+KTfFzPHa0o4NpQMhZp/CNDcEbRN+A5MYRKwrmwSmPOcY0e6wLSFgIOLLpo8cDAuf1baQQ2kTo3FZrHxVqrJ00KJUuW0Ila1KVVF4qmrd5wO/Mx/4kFBYcke/eXNQJgCN5/8qQqFmhvGMwUUII3Gmj0kr+0TAPXp2VNqvjt2NJAIqCSE18qb6tN/3sFWX9qvV4ja4qssRzKxWioPCFHhkG+QuHrPMD3b/uVfwJiVBl+l7OgWvcXgHjIMregxszsAApCuWKWmXja3Cjk5lQydvdu9GTVG0d1tmdoLtvm2ZjiG3ukBiT0NhWVZ796b4wgNiafD5lO04lSl7VOEdH6J4L2ef2tTUmwydiefbI/F3qV3HHZefOuXPcCIpn2FSkpHlnfvF1b2M92EQ9tbhaa1Df3LQONQfIdDKwRC69NGKcdgfCHf8KUGG/QdncRaIbj9gbyA2wNZODwPR7fajitwf8Ng+4zX24On02VE5f/VMxz7HLFHxa7zZ4n56P9X0PpXqLfdR2f6owwneMe0X7Sf4jwACV7rznOAdncOvn+AbYGuXE7yr8+v1E/xpGN/pBO+qvr8rGm7TzfJ5UI7t86RfX3FHIF7RE/7JCNjHIgSCgYwVbhL0I2SH//CfLAkIb5Q3numTLT/7jcUD5YbSQSnmp5e689w2fmgmr0RxLjPFLvr9TrZNXJ6DVdPv9xwhalaVfX0BtXykMVTCfqfsCyRYV/QG2kPL9wfFo+Ec7dFwDzAJyUgpv5r0IMq4ZsmDqAfIzjyIk4pbpyoDtf2HE7cidtNKSwYXIWE8eCtUE5i6x+dpSe9PJuDWga5NnX0vkAveicZclq75+LVCTsHXlGNQe/kGtbGIGS8zsqBZsrMJjlpk1DnFwYAKZhCzhrblTytca0biK7JQaQAtFils3Ift1vihsv0guBf2fNstw57tjUzYtveYzCLQvhMETe77cwZBv4Jd2fk3R6PguAKndlsoOB5XZ/lDICgZcTIQVB22EvH+5thmiAnm2Oa6U7/EDK8ZOfYqPhz/FNim+UU5hcNtnwPkVdLZyMJI9V6d8IQb7a+oVWjSwSlAhjOEO6KRLjfEcAqQWMyJlGF5DlCW4ilOHybLvMWW1aOLx/6goNakxNP+sFsrBwVp/Ec0+v8I/7eF8ZwQl+UL94kArR4ba5AI2UTl2Ni6mQGtJKhrvE594ODjmWUmA72LwIHStxoepj5w8B62njJwoHRN9aH8+XDb4/0Z4H31nPBuAb9PBWsFGc4oFUzpW58K1hJbuwR8R+VqKVTYQ3/30N/lL8Aq8mJKHeQhXbfwC2I98h8BEVwPzxP5tWlhPfI3wNYuc4T8Gt7SD0THKjkBgwP5AEfGwIz+8L2pAdKttX9zkYFlp4qKWWW0n8qF9rFRMbviIbKr80FDQbHKzyPYIuxfu1vl+s1HxHydb6o5Off3yHlXYq4L/p6XmGfRJiEFWbLIsVLuyF+rzaS80peGpLxqhB0U8+mpxVz1xz1tE3b+PE/US+XvuvLwDU3DWxd8+iZ77Tyz8T7oLXcndXM024jB+eqm3IOs+vPhlvy9JCRaUUoO1BNV/tbsm3iH+ec3wz9ymyB6dmCumZTq9yiAtMb/AQ==&lt;/diagram&gt;&lt;/mxfile&gt;"><defs><clipPath id="mx-clip-1264-414-232-104-0"><rect x="1264" y="414" width="232" height="104"/></clipPath><clipPath id="mx-clip-1264-526-232-26-0"><rect x="1264" y="526" width="232" height="26"/></clipPath><clipPath id="mx-clip-1344-117-152-26-0"><rect x="1344" y="117" width="152" height="26"/></clipPath><clipPath id="mx-clip-1344-215-152-26-0"><rect x="1344" y="215" width="152" height="26"/></clipPath><clipPath id="mx-clip-1264-307-232-26-0"><rect x="1264" y="307" width="232" height="26"/></clipPath><clipPath id="mx-clip-1264-341-232-26-0"><rect x="1264" y="341" width="232" height="26"/></clipPath><clipPath id="mx-clip-391-368-222-26-0"><rect x="391" y="368" width="222" height="26"/></clipPath><clipPath id="mx-clip-391-402-222-26-0"><rect x="391" y="402" width="222" height="26"/></clipPath><clipPath id="mx-clip-681-368-152-26-0"><rect x="681" y="368" width="152" height="26"/></clipPath><clipPath id="mx-clip-681-402-152-26-0"><rect x="681" y="402" width="152" height="26"/></clipPath><clipPath id="mx-clip-536-141-152-26-0"><rect x="536" y="141" width="152" height="26"/></clipPath><clipPath id="mx-clip-536-175-152-26-0"><rect x="536" y="175" width="152" height="26"/></clipPath><clipPath id="mx-clip-2034-294-152-26-0"><rect x="2034" y="294" width="152" height="26"/></clipPath><clipPath id="mx-clip-2214-294-152-26-0"><rect x="2214" y="294" width="152" height="26"/></clipPath><clipPath id="mx-clip-2094-114-152-26-0"><rect x="2094" y="114" width="152" height="26"/></clipPath></defs><g transform="translate(0.5,0.5)"><rect x="1170" y="13" width="805" height="870" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(1174.5,0.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="306" height="85" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; overflow: hidden; max-height: 130px; max-width: 400px; width: 307px; white-space: normal; overflow-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><h1>This is the staff's structure<br /></h1><p><br /></p></div></div></foreignObject><text x="153" y="49" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">&lt;h1&gt;This is the staff's structure&lt;br&gt;&lt;/h1&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;</text></switch></g><rect x="1260" y="383" width="240" height="164" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 1260 409 L 1260 383 L 1500 383 L 1500 409 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="1379.5" y="401.5">Note</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-1264-414-232-104-0)" font-size="12px"><text x="1265.5" y="426.5">+ duration: INT</text><text x="1265.5" y="440.5">+ pitch: INT</text><text x="1265.5" y="454.5">+ isRest: BOOLEAN</text><text x="1265.5" y="468.5">+ signature: ENUM&lt;null, sharp, flat&gt;</text><text x="1265.5" y="482.5">+ isDotted: BOOLEAN</text></g><path d="M 1260 517 L 1500 517" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-1264-526-232-26-0)" font-size="12px"><text x="1265.5" y="538.5">+ method(type): type</text></g><rect x="1340" y="86" width="160" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 1340 112 L 1340 86 L 1500 86 L 1500 112 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="1419.5" y="104.5">Staff</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-1344-117-152-26-0)" font-size="12px"><text x="1345.5" y="129.5">+ Bars: Bar[]</text></g><path d="M 1340 142 L 1500 142" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="1340" y="184" width="160" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 1340 210 L 1340 184 L 1500 184 L 1500 210 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="1419.5" y="202.5">Bar</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-1344-215-152-26-0)" font-size="12px"><text x="1345.5" y="227.5">+ measures: Measure[]</text></g><path d="M 1340 240 L 1500 240" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(1201.5,66.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="421" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div>A Staff is composed of Bars is composed of Measures is composed of Notes</div></div></div></foreignObject><text x="211" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">&lt;div&gt;A Staff is composed of Bars is composed of Measures is composed of Notes&lt;/div&gt;</text></switch></g><path d="M 1440 383 L 1440 383" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1440 383 L 1440 383 L 1440 383 L 1440 383 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(1520.5,439.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="158" height="27" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 158px; white-space: normal; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">A Note is either a note, or a rest.</div></div></foreignObject><text x="79" y="20" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">A Note is either a note, or a rest.</text></switch></g><g transform="translate(1300.5,560.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="238" height="123" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 238px; white-space: normal; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><br /><font style="font-size: 23px" color="#FF0000">Het ontwerp en implementatie van de "Note" klasses is de opdracht van week 1.<br /></font></div></div></foreignObject><text x="119" y="68" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="1260" y="276" width="240" height="86" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 1260 302 L 1260 276 L 1500 276 L 1500 302 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="1379.5" y="294.5">Measure</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-1264-307-232-26-0)" font-size="12px"><text x="1265.5" y="319.5">+ Note: Note[]</text></g><path d="M 1260 332 L 1500 332" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-1264-341-232-26-0)" font-size="12px"><text x="1265.5" y="353.5">+ timeSignature: TUPLE&lt;int, int&gt;</text></g><g transform="translate(1520.5,333.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="158" height="27" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 158px; white-space: normal; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Time signatures are ratios between two integers.</div></div></foreignObject><text x="79" y="20" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Time signatures are ratios between two integers.</text></switch></g><rect x="320" y="13" width="805" height="870" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(324.5,0.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="240" height="85" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; overflow: hidden; max-height: 130px; max-width: 400px; width: 241px; white-space: normal; overflow-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><h1>This generates staffs<br /></h1><p><br /></p></div></div></foreignObject><text x="120" y="49" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">&lt;h1&gt;This generates staffs&lt;br&gt;&lt;/h1&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;</text></switch></g><path d="M 350 448 L 636 448 L 650 462 L 650 708 L 350 708 L 350 448 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 636 448 L 636 462 L 650 462" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(352.5,447.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="286" height="263" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 287px; white-space: nowrap; overflow-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><p style="line-height: 30%"><font style="font-size: 6px">private static LinkedList&lt;LilypondToken&gt; GetTokensFromLilypond(string content)<br />{<br />    var tokens = new LinkedList&lt;LilypondToken&gt;();<br /><br />    foreach (string s in content.Split(' '))<br />    {<br />        LilypondToken token = new LilypondToken()<br />        {<br />            Value = s<br />        };<br /><br />        switch (s)<br />        {<br />            case "\\relative": token.TokenKind = LilypondTokenKind.Staff; break;<br />            case "\\clef": token.TokenKind = LilypondTokenKind.Clef; break;<br />            case "\\time": token.TokenKind = LilypondTokenKind.Time; break;<br />            case "\\tempo": token.TokenKind = LilypondTokenKind.Tempo; break;<br />            case "|": token.TokenKind = LilypondTokenKind.Bar; break;<br />            default: token.TokenKind = LilypondTokenKind.Unknown; break;<br />        }<br /><br />        token.Value = s;<br /><br />        if (token.TokenKind == LilypondTokenKind.Unknown &amp;&amp; new Regex(@"[a-g][,'eis]*[0-9]+[.]*").IsMatch(s))<br />        {<br />            token.TokenKind = LilypondTokenKind.Note;<br />        }<br />        else if (token.TokenKind == LilypondTokenKind.Unknown &amp;&amp; new Regex(@"r.*?[0-9][.]*").IsMatch(s))<br />        {<br />            token.TokenKind = LilypondTokenKind.Rest;<br />        }<br /><br />        if (tokens.Last != null)<br />        {<br />            tokens.Last.Value.NextToken = token;<br />            token.PreviousToken = tokens.Last.Value;<br />        }<br /><br />        tokens.AddLast(token);<br />    }<br /><br />    return tokens;<br />}</font></p></div></div></foreignObject><text x="143" y="138" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><g transform="translate(1.5,359.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="273" height="27" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div>The LilyReader reads in lilypond text, and converts <br /></div><div>it into our internal representation of a staff</div></div></div></foreignObject><text x="137" y="20" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="387" y="337" width="230" height="86" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 387 363 L 387 337 L 617 337 L 617 363 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="501.5" y="355.5">LilyReader</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-391-368-222-26-0)" font-size="12px"><text x="392.5" y="380.5">+ field: </text></g><path d="M 387 393 L 617 393" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-391-402-222-26-0)" font-size="12px"><text x="392.5" y="414.5">+ tokenizeLilypondSource(String source)</text></g><path d="M 501.32 423 L 500 448" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><rect x="677" y="337" width="160" height="86" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 677 363 L 677 337 L 837 337 L 837 363 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="756.5" y="355.5">MidiReader</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-681-368-152-26-0)" font-size="12px"><text x="682.5" y="380.5">+ field: type</text></g><path d="M 677 393 L 837 393" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-681-402-152-26-0)" font-size="12px"><text x="682.5" y="414.5">+ method(type): type</text></g><rect x="532" y="110" width="160" height="86" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 532 136 L 532 110 L 692 110 L 692 136 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="611.5" y="128.5">AbstractStaffInput</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-536-141-152-26-0)" font-size="12px"><text x="537.5" y="153.5">+ field: type</text></g><path d="M 532 166 L 692 166" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-536-175-152-26-0)" font-size="12px"><text x="537.5" y="187.5">+ method(type): type</text></g><g transform="translate(487.5,43.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="258" height="41" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 258px; white-space: normal; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">An AbstractStaffInput represents something that will load and provide the data that will be used to generate a staff</div></div></foreignObject><text x="129" y="27" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 445 337 L 445 274 Q 445 264 455 264 L 558 264 Q 568 264 568 254 L 568 208.24" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 568 200.24 L 572 208.24 L 564 208.24 Z" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(477.5,257.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="20" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;"><div>Is a</div></div></div></foreignObject><text x="10" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 797 337 L 797 274 Q 797 264 787 264 L 656 264 Q 646 264 646 254 L 646 210.24" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 646 202.24 L 650 210.24 L 642 210.24 Z" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(707.5,254.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="20" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">Is a</div></div></foreignObject><text x="10" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Is a</text></switch></g><rect x="2020" y="10" width="805" height="870" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(2024.5,-2.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="492" height="85" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; overflow: hidden; max-height: 130px; max-width: 530px; width: 493px; white-space: normal; overflow-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><h1>This will turn staffs into other useful things<br /></h1><p><br /></p></div></div></foreignObject><text x="246" y="49" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">&lt;h1&gt;This will turn staffs into other useful things&lt;br&gt;&lt;/h1&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;</text></switch></g><rect x="2030" y="263" width="160" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 2030 289 L 2030 263 L 2190 263 L 2190 289 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="2109.5" y="281.5">MidiSequenceConverter</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-2034-294-152-26-0)" font-size="12px"><text x="2035.5" y="306.5">+ field: type</text></g><path d="M 2030 319 L 2190 319" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="2210" y="263" width="160" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 2210 289 L 2210 263 L 2370 263 L 2370 289 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="2289.5" y="281.5">WPFConverter</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-2214-294-152-26-0)" font-size="12px"><text x="2215.5" y="306.5">+ field: type</text></g><path d="M 2210 319 L 2370 319" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="2090" y="83" width="160" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 2090 109 L 2090 83 L 2250 83 L 2250 109 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="2169.5" y="101.5">AbstractStaffConverter</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-2094-114-152-26-0)" font-size="12px"><text x="2095.5" y="126.5">+ staff: Staff</text></g><path d="M 2090 139 L 2250 139" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2070 263 L 2070 212 Q 2070 202 2080 202 L 2120 202 Q 2130 202 2130 192 L 2130 153.24" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 2130 145.24 L 2134 153.24 L 2126 153.24 Z" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 2290 263 L 2290 212 Q 2290 202 2280 202 L 2220 202 Q 2210 202 2210 192 L 2210 153.24" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 2210 145.24 L 2214 153.24 L 2206 153.24 Z" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(2030.5,384.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="158" height="27" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 158px; white-space: normal; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Turns the staff into a midiSequence</div></div></foreignObject><text x="79" y="20" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Turns the staff into a midiSequence</text></switch></g><g transform="translate(2205.5,384.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="168" height="27" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 168px; white-space: normal; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Turns the staff into a WPF graphical representation</div></div></foreignObject><text x="84" y="20" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Turns the staff into a WPF graphical representation</text></switch></g></g></svg>